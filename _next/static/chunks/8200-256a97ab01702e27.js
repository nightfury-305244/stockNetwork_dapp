"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8200],{36921:function(t,e,n){var r=n(3827),a=n(78959),i=n(39296),c=n(86153),o=n(86500);e.Z=t=>{let{className:e,children:n="Connect Wallet",spinner:s}=t,u=(0,i.m)(),{openConnectModal:l}=(0,a.We)(),d=u.isConnecting||u.isReconnecting;return(0,r.jsxs)(c.Z,{disabled:d,className:e,onClick:l,children:[n,d&&(s||(0,r.jsx)(o.Z,{className:"absolute top-1/2 -translate-y-1/2 right-2"}))]})}},33094:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(3827),a=n(86500);function i(t){let{text:e}=t;return(0,r.jsxs)("div",{className:"relative flex flex-col min-h-[360px] justify-center items-center gap-2",children:[(0,r.jsx)(a.Z,{className:"w-16 h-16"}),(0,r.jsx)("h1",{className:"font-mono text-3xl",children:"Confirm transaction"}),"string"==typeof e?(0,r.jsx)("div",{className:"text-center",children:e}):e,(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-full text-center px-4 flex items-center justify-center",children:"Please proceed in your wallet"})]})}},23141:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(3827),a=n(37747);function i(t){let{inputAmount:e,outputAmount:n,icon:a}=t,i=e.currency,o=n.currency;return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(c,{currency:i,amount:e.toSignificant(8)}),a?(0,r.jsx)("div",{className:"w-7 md:w-9 h-4 flex-none flex justify-center items-center",children:(0,r.jsx)(a,{className:"w-6 h-6 stroke-[3]"})}):null,(0,r.jsx)(c,{currency:o,amount:n.toSignificant(8)})]})}function c(t){let{currency:e,amount:n}=t;return(0,r.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,r.jsx)(a.Z,{currency:e,className:"w-7 h-7 md:w-9 md:h-9"}),(0,r.jsxs)("span",{className:"font-medium text-xl md:text-2xl",children:[(0,r.jsx)("span",{className:"mr-3",children:n}),(0,r.jsx)("span",{children:e.symbol})]})]})}},50436:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(3827),a=n(22169);function i(t){let{className:e,children:n}=t;return(0,r.jsx)("span",{className:(0,a.cn)("whitespace-nowrap",e),children:n})}},46828:function(t,e,n){n.d(e,{U:function(){return a},o:function(){return R}});var r,a,i=n(20713),c=n(64090),o=n(46063),s=n(45139),u=n(47082);function l(t,e){return t.findAll(e.filters).map(t=>e.select?e.select(t):t.state)}var d=n(36887),f=n.n(d),N=n(39296),m=n(76675),E=n(96043),p=n(20568),h=n(10035),v=n(20073),L=n(22850),I=n(99279),w=n(85590),y=n(50643),A=n(31723);let x=(t,e,n,r)=>["tokenAllowance",t,(null==e?void 0:e.isNative)?"native":null==e?void 0:e.address,n,r];var T=n(98065),g=n(64856),D=n(94741);let C=(t,e,n)=>["allowanceMutation",(null==t?void 0:t.isNative)?"native":null==t?void 0:t.address,e,n];var P=n(75427);function R(t,e,n){let r=(0,m.x)(),a=(0,N.m)(),{switchChainAsync:d}=(0,E.o)(),R=function(t,e,n){let r=(0,N.m)(),a=(0,m.x)(),i=(0,L.p)(),c=(0,I.t)(),{addTransaction:o}=(0,g.nB)();return(0,p.D)({mutationKey:C(t,r.address,e),mutationFn:async s=>{if(a){if(c){if(i.data){if(s&&t){if(s.currency){if(s.currency.isNative)throw Error("approve on native token");if(s.currency.equals(t)){if(!e)throw Error("no spender")}else throw Error("different currencies")}else throw Error("no token")}else throw Error("missing amount to approve")}else throw Error("no walletClient")}else throw Error("no publicClient")}else throw Error("no chainId");let u=s.currency.address,l=await c.estimateContractGas({address:u,abi:h.Wo,functionName:"approve",args:[e,(0,v.v)(s.toExact(),s.currency.decimals)],account:r.address}),{request:d}=await c.simulateContract({address:u,abi:h.Wo,functionName:"approve",args:[e,(0,v.v)(s.toExact(),s.currency.decimals)],account:r.address,gas:(0,T.y)(l)}),f=await i.data.writeContract(d);return o({id:f,type:D.iU.TX,summary:"Approve ".concat(s.currency.symbol," ").concat(n?"for "+n:""),action:D.Q6.APPROVE}),await c.waitForTransactionReceipt({hash:f}),f},onSuccess:()=>{w.Eh.invalidateQueries({queryKey:x(a,t,r.address,e)})}})}(null==t?void 0:t.currency,e,n);return[function(t,e){var n;let r=(0,N.m)(),a=r.address,d=function(t,e,n){let r=(0,m.x)(),a=!!(null==t?void 0:t.isNative),c=null==t?void 0:t.wrapped.address;return(0,y.a)({queryKey:x(r,t,e,n),queryFn:async()=>{if(!(c&&e&&n))throw Error("Not enough params to get allowance");let r=await (0,A.L)(w.vc,{abi:h.Wo,address:c,functionName:"allowance",args:[e,n]});return i.ih.fromRawAmount(t,r.toString())},enabled:!!(c&&!a&&e&&n),staleTime:3e4,refetchInterval:3e4})}((null==t?void 0:null===(n=t.currency)||void 0===n?void 0:n.isToken)?t.currency:void 0,a,e),E=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=(0,u.NL)(e).getMutationCache(),r=c.useRef(t),a=c.useRef();return a.current||(a.current=l(n,t)),c.useEffect(()=>{r.current=t}),c.useSyncExternalStore(c.useCallback(t=>n.subscribe(()=>{let e=(0,o.Q$)(a.current,l(n,r.current));a.current!==e&&(a.current=e,s.V.schedule(t))}),[n]),()=>a.current,()=>a.current)}({filters:{mutationKey:C(null==t?void 0:t.currency,r.address,e)},select:t=>t.state.status}),p="pending"===f()(E);return(0,c.useMemo)(()=>t&&e?t.currency.isNative?"APPROVED":d.isLoading||d.error||!d.data?"UNKNOWN":d.data.lessThan(t)?p?"PENDING":"NOT_APPROVED":"APPROVED":"UNKNOWN",[t,p,e,d.isLoading,d.error,d.data])}(t,e),(0,c.useCallback)(async()=>{if(!t)throw Error("No amount to prove");r!==a.chainId&&await d({chainId:r});try{let e=(0,P.uc)(t,new i.gG(10,100))[1],n=i.ih.fromRawAmount(t.currency,e);return await R.mutateAsync(n)}catch(t){console.error({error:t});return}},[a.chainId,R,t,r,d])]}(r=a||(a={})).UNKNOWN="UNKNOWN",r.NOT_APPROVED="NOT_APPROVED",r.PENDING="PENDING",r.APPROVED="APPROVED"},65632:function(t,e,n){n.d(e,{q:function(){return c},r:function(){return o}});var r=n(20713),a=n(64090),i=n(76675);n(14292),n(3676);let c=n(46828).o;function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,i.x)();return c((0,a.useMemo)(()=>{if(t)return t.inputAmount},[t,e]),r.ar[n],"swapping")}},20253:function(t,e,n){n.d(e,{x:function(){return i}});var r=n(40204),a=n(85590);let i=()=>(0,r.D)(a.vc)},75427:function(t,e,n){n.d(e,{ZP:function(){return s},gm:function(){return d},uc:function(){return l}});var r=n(20713),a=n(40237),i=n.n(a),c=n(20073),o=n(72027);function s(t,e){if(t&&e)try{let n=(0,c.v)(function(t,e){let n=t.split(/[.,]/),r=t.includes(".")?".":",";return n.length>1&&n[1].length>e?n[0]+r+n[1].slice(0,e):t}(t,e.decimals),e.decimals).toString();if("0"!==n)return r.ih.fromRawAmount(e,i().BigInt(n))}catch(e){console.debug('Failed to parse input amount: "'.concat(t,'"'),e)}}i().exponentiate(i().BigInt(10),i().BigInt(16));let u=new r.iA(1,1);function l(t,e){if(e.lessThan(0)||e.greaterThan(u))throw Error("Unexpected slippage");return[t.multiply(u.subtract(e)).quotient,t.multiply(u.add(e)).quotient]}function d(t,e){let n=new r.gG(e,o.PM);if(n.lessThan(0)||n.greaterThan(u))throw Error("Unexpected slippage");return t.multiply(u.subtract(n)).quotient}},98065:function(t,e,n){n.d(e,{y:function(){return r}});function r(t){return t*BigInt(1200)/BigInt(1e3)}},65323:function(t,e,n){n.d(e,{NY:function(){return c},P0:function(){return a},hs:function(){return i}});var r=n(85590);let a=6048e5,i=10,c=r.FQ.reduce((t,e)=>(t[e]={},t),{})},64856:function(t,e,n){n.d(e,{nB:function(){return a}});var r=n(79949);function a(){let t=(0,r.Y)(t=>t.addTransaction);return{addTransaction:t,clearAllTransactions:(0,r.Y)(t=>t.clearAllTransactions),finalizeTransaction:(0,r.Y)(t=>t.finalizeTransaction),updateTransaction:(0,r.Y)(t=>t.updateTransaction)}}n(60953)},79949:function(t,e,n){n.d(e,{Y:function(){return m}});var r=n(2115),a=n(73957),i=n.n(a),c=n(22020),o=n(20253),s=n(27580),u=n(27937),l=n(69424),d=n(94741),f=n(65323),N=n(60953);let m=(0,c.Ue)()((t,e)=>({transactionState:f.NY,clearAllTransactions:()=>t(t=>(0,r.Uy)(t,t=>{t.transactionState=f.NY})),addTransaction:e=>t(t=>(0,r.Uy)(t,t=>{let n=(0,N.f1)(t),r=E(e.id,e.type),a=(0,s.B)(),i=(0,o.x)();if(n[r])throw Error("The transaction ".concat(e.id," already exists."));if(!i.address)throw Error("Cannot find the current account");let c={...e,from:i.address,addedTime:Date.now(),status:d.LN.PENDING};n[r]=c;let u=Object.entries(n).sort((t,e)=>{let[,n]=t,[,r]=e;return r.addedTime-n.addedTime}).filter((t,e)=>e<f.hs);t.transactionState[a]=Object.fromEntries(u),L(c)})),updateTransaction:(e,n,a)=>{let c=!1;return t(t=>(0,r.Uy)(t,t=>{let r=(0,N.f1)(t),o=E(e,n),s=r[o];null!==s&&(a.id?(r[E(a.id,n)]=i()({},s,a,{originalId:e}),delete r[o]):r[o]=i()({},s,a),c=!0)})),c},finalizeTransaction:(t,n,r)=>{var a,i;if(!r)return!1;let c=p(e(),t,n);if(!c)return!1;let o={finalizedTime:Date.now()};if(n===d.iU.TX&&(o.receipt={blockHash:r.blockHash,blockNumber:r.blockNumber,contractAddress:r.contractAddress,from:r.from,status:r.status,to:r.to,transactionHash:r.transactionHash,transactionIndex:r.transactionIndex},c.replacementReason===d.ob.TX_CANCEL?o.status=d.LN.CANCELLED:o.status=(null==r?void 0:r.status)==="success"?d.LN.FULFILLED:d.LN.FAILED),e().updateTransaction(t,n,o)){let r=p(e(),t,n);if(!r)throw Error("The transaction updated just now cannot be found");return L(r),r.status===d.LN.FULFILLED?null===(a=r.onSuccess)||void 0===a||a.call(r):r.status===d.LN.FAILED&&(null===(i=r.onFailure)||void 0===i||i.call(r)),!0}return!1}}));function E(t,e){return"".concat(e,"_").concat(t)}function p(t,e,n){var r;return null!==(r=(0,N.f1)(t)[E(e,n)])&&void 0!==r?r:null}let h={[d.Q6.CLAIM]:"Claim",[d.Q6.APPROVE]:"Approve",[d.Q6.SWAP]:"Swap",[d.Q6.WRAP]:"Wrap",[d.Q6.UNWRAP]:"Unwrap",[d.Q6.WITHDRAW]:"Withdraw",[d.Q6.ADD_LIQUIDITY]:"Add Liquidity",[d.Q6.INCREASE_LIQUIDITY]:"Increase Liquidity",[d.Q6.REMOVE_LIQUIDITY]:"Remove Liquidity",[d.Q6.UNSTAKE]:"Unstake",[d.Q6.STAKE]:"Stake",[d.Q6.RESTAKE]:"Restake",[d.Q6.SYNC]:"Sync",[d.Q6.REQUEST_FAUCET]:"Request Faucet"},v={[d.LN.PENDING]:"In Progress",[d.LN.FULFILLED]:"Successfully",[d.LN.EXPIRED]:"Expired",[d.LN.CANCELLING]:"Cancelling",[d.LN.CANCELLED]:"Cancelled",[d.LN.FAILED]:"Failed"};function L(t){let e=(0,N.pc)(t.status)?(0,N.l0)(t)?"success":"error":"default",n="".concat(h[t.action]," ").concat(v[t.status]);l.E.getState().addToast({type:e,title:n,description:t.summary,autoCloseAfterMs:(0,N.pc)(t.status)?15e3:864e5,transactionMetadata:{id:t.id,status:t.status,explorerLink:(0,u.Q)(t.id)}})}},60953:function(t,e,n){n.d(e,{BI:function(){return N},ON:function(){return f},f1:function(){return d},l0:function(){return u},pc:function(){return l}});var r=n(48132),a=n.n(r),i=n(27580),c=n(65323),o=n(94741);function s(t){return Date.now()-t.addedTime<c.P0}function u(t){return t.status===o.LN.FULFILLED}function l(t){return[o.LN.FULFILLED,o.LN.CANCELLED,o.LN.FAILED,o.LN.EXPIRED].includes(t)}function d(t){let e=(0,i.B)();return t.transactionState[e]}function f(t){return a()(Object.values(d(t)),"addedTime","desc").filter(s).filter(t=>!l(t.status))}function N(t,e){if(l(t.status))return!1;if(!t.lastCheckedBlockNumber)return!0;let n=e-t.lastCheckedBlockNumber;if(n<1)return!1;let r=(Date.now()-t.addedTime)/1e3/60;return r>60?n>9:!(r>5)||n>2}},94741:function(t,e,n){var r,a,i,c,o,s,u,l;n.d(e,{LN:function(){return r},Q6:function(){return a},iU:function(){return i},ob:function(){return c}}),(o=r||(r={})).PENDING="pending",o.FULFILLED="fulfilled",o.EXPIRED="expired",o.CANCELLING="cancelling",o.CANCELLED="cancelled",o.FAILED="failed",(s=a||(a={})).CLAIM="claim",s.APPROVE="approve",s.SWAP="swap",s.WRAP="wrap",s.UNWRAP="unwrap",s.WITHDRAW="withdraw",s.ADD_LIQUIDITY="add_liquidity",s.INCREASE_LIQUIDITY="increase_liquidity",s.REMOVE_LIQUIDITY="remove_liquidity",s.UNSTAKE="unstake",s.STAKE="stake",s.RESTAKE="restake",s.SYNC="sync",s.REQUEST_FAUCET="request_faucet",(u=i||(i={})).ORDER="order",u.TX="tx",(l=c||(c={})).TX_SPEED_UP="txSpeedUp",l.TX_CANCEL="txCancel"},20073:function(t,e,n){n.d(e,{v:function(){return r}});function r(t,e){let[n,r="0"]=t.split("."),a=n.startsWith("-");if(a&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),0===e)1===Math.round(Number(".".concat(r)))&&(n="".concat(BigInt(n)+1n)),r="";else if(r.length>e){let[t,a,i]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(Number("".concat(a,".").concat(i)));(r=c>9?"".concat(BigInt(t)+BigInt(1),"0").padStart(t.length+1,"0"):"".concat(t).concat(c)).length>e&&(r=r.slice(1),n="".concat(BigInt(n)+1n)),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt("".concat(a?"-":"").concat(n).concat(r))}}}]);